<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Andy Gets a Butt Tattoo </title>
  <style>
    body { margin:0; font-family:sans-serif; background:#f5f8fa; color:#232340; }
    .container {
      max-width: 440px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      transition: all .2s;
      min-height: 100vh;
      background: #f5f8fa;
    }
    .container.horizontal {
      max-width: 100vw;
      margin: 0;
      flex-direction: row;
      min-height: 100vh;
      height: 100vh;
      background: #f5f8fa;
    }
    .left-panel {
  width: 40%;
  min-width: 320px;
  background: #f5f8fa;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0;
  position: sticky;
  top: 0;
  align-self: flex-start;
  height: 100vh;
  z-index: 100;
}

    .right-panel {
      width: 60%;
      background: #f9fafb;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
      border-left: 2px solid #dbeafe;
      min-height: 0;
      height: 100vh;
      overflow-y: auto;
      padding: 0;
    }
    #fixed-top-group, #fixed-top-group-vert {
      width: 100%;
      background: #f5f8fa;
      box-shadow: 0 4px 16px #d5dae533;
      border-radius: 0 0 18px 18px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      padding-bottom: 12px;
    }
    #player, #player-vert {
      width: 100%;
      aspect-ratio: 16/9;
      border: none;
      border-radius: 18px 18px 0 0;
      background: #000;
      box-shadow: 0 2px 10px #cdd4e7;
      display: block;
      max-width: 640px;
      margin: 0 auto;
    }
    #fixed-controls, #fixed-controls-vert {
      width: 100%;
      background: #f5f8fa;
      border-radius: 0 0 18px 18px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      padding-bottom: 4px;
    }
    #progress, #progress-vert {
      margin:12px 18px 8px 18px;
      font-size:17px;
      font-weight:500;
      text-align:right;
    }
    #controls, #controls-vert {
      display:flex;
      gap:10px;
      margin:0 18px 10px 18px;
      align-items:center;
      justify-content:center;
    }
    #controls button, #controls-vert button {
      font-size:15px; padding:7px 14px; border-radius:10px; border:none;
      background:#dbeafe; color:#232340; cursor:pointer;
      transition: .13s;
      white-space: nowrap;
    }
    #controls button.active, #controls-vert button.active { background:#232340; color:#fff; }
    #mode-btn, #layout-btn, #mode-btn-vert, #layout-btn-vert {
      font-size:14px; padding:6px 12px; border-radius:9px; border:none;
      background:#fed7aa; color:#c2410c; cursor:pointer; margin-left:8px;
      white-space: nowrap;
    }
    #mode-btn.active, #layout-btn.active, #mode-btn-vert.active, #layout-btn-vert.active { background:#c2410c; color:#fff;}
    #subs-vert {
      display:flex; flex-direction:column; gap:12px;
      padding:0 0 24px 0;
      width: 100%;
      align-items: center;
      flex: 1;
      overflow-y: auto;
      max-height: calc(100vh - 330px);
      min-height: 0;
    }
    #subs {
      display:flex; flex-direction:column; gap:12px;
      padding:0 0 24px 0;
      width: 100%;
      align-items: stretch;
    }
    .sub-row {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 100vw;
      min-width: 0;
      gap: 10px;
      box-sizing: border-box;
      margin: 0 auto;
      transition: outline 0.15s, box-shadow 0.15s;
    }
    .sub-row.active {
      outline: 3px solid #3b82f6 !important;
      border-radius: 16px;
      box-shadow: 0 0 0 2px #93c5fd66;
      z-index: 1;
    }
    .sub-btn {
      flex: 1 1 0%;
      min-width: 0;
      max-width: 100%;
      font-size: 18px;
      padding: 16px;
      border-radius: 14px;
      border: none;
      background: #e0e7ff;
      color: #232340;
      text-align: left;
      transition: .13s;
      white-space: normal;
      line-height: 1.3;
      word-break: break-word;
      overflow-wrap: break-word;
      box-sizing: border-box;
    }
    .hide-btn, .check-btn {
      flex-shrink: 0;
      min-width: 44px;
      max-width: 44px;
      height: 44px;
      font-size: 24px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      cursor: pointer;
    }
    .container.horizontal .sub-btn {
      font-size: 30px;
      padding: 18px 32px;
    }
    .container.horizontal .hide-btn,
    .container.horizontal .check-btn {
      font-size: 30px;
      min-width: 52px;
      max-width: 52px;
      height: 52px;
    }
    .sub-btn:active { background:#a5b4fc; }
    .sub-btn.learned { background:#a7f3d0; color:#157348; text-decoration:line-through; }
    .hide-btn.active { color:#3b3b3b; }
    .check-btn.checked { color:#22c55e; }
    #vertical-root {
      width: 100%;
      max-width: 440px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #f5f8fa;
      height: 100vh;
      min-height: 100vh;
      overflow: hidden;
    }
    #fixed-top-group-vert {
      position: sticky;
      top: 0;
      z-index: 10;
      background: #f5f8fa;
    }
    @media (max-width: 900px) {
      .container.horizontal .left-panel, .container.horizontal .right-panel { width: 100%; min-width:0;}
      .container.horizontal { flex-direction: column; }
    }
    @media (max-width: 520px) {
      .container, .container.horizontal { flex-direction: column !important; max-width: 100vw !important; }
      .left-panel, .right-panel { width: 100% !important; min-width:0;}
      #fixed-top-group, #fixed-top-group-vert { border-radius:0 0 14px 14px; }
      #player, #player-vert { border-radius:0;}
      #fixed-controls, #fixed-controls-vert { border-radius:0 0 14px 14px;}
      .sub-btn { font-size:15px; padding:12px;}
      #progress, #progress-vert { font-size:14px;}
      #vertical-root { max-width: 100vw; }
      .sub-row { max-width: 100vw; }
      .sub-btn { max-width: 98vw; }
      .container.horizontal .sub-btn { font-size: 18px; }
      .container.horizontal .hide-btn, .container.horizontal .check-btn { font-size: 18px; }
    }
  </style>
</head>
<body>
<div class="container" id="container">
  <!-- Í∞ÄÎ°úÎ™®Îìú(Ï¢åÏö∞) Ìå®ÎÑê -->
  <div class="left-panel" id="left-panel" style="display:none">
    <div id="fixed-top-group">
      <iframe id="player" src="https://www.youtube.com/embed/fVnh9NqFvZQ?enablejsapi=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      <div id="fixed-controls">
        <div id="progress"></div>
        <div id="controls">
          <button id="show-all" class="active">Ï†ÑÏ≤¥ Î≥¥Í∏∞</button>
          <button id="show-learned">Ïô∏Ïõ†Ïùå Î≥¥Í∏∞</button>
          <button id="mode-btn" class="active">ÌïúÏ§Ñ Ïû¨ÏÉù</button>
          <button id="layout-btn" title="ÏÑ∏Î°úÎ™®ÎìúÎ°ú Ï†ÑÌôò">ÏÑ∏Î°úÎ™®Îìú</button>
        </div>
      </div>
    </div>
  </div>
  <div class="right-panel" id="right-panel" style="display:none">
    <div id="subs"></div>
  </div>
  <!-- ÏÑ∏Î°úÎ™®Îìú Ìå®ÎÑê -->
  <div id="vertical-root">
    <div id="fixed-top-group-vert">
      <iframe id="player-vert" src="https://www.youtube.com/embed/fVnh9NqFvZQ?enablejsapi=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      <div id="fixed-controls-vert">
        <div id="progress-vert"></div>
        <div id="controls-vert">
          <button id="show-all-vert" class="active">Ï†ÑÏ≤¥ Î≥¥Í∏∞</button>
          <button id="show-learned-vert">Ïô∏Ïõ†Ïùå Î≥¥Í∏∞</button>
          <button id="mode-btn-vert" class="active">ÌïúÏ§Ñ Ïû¨ÏÉù</button>
          <button id="layout-btn-vert" title="Í∞ÄÎ°úÎ™®ÎìúÎ°ú Ï†ÑÌôò">Í∞ÄÎ°úÎ™®Îìú</button>
        </div>
      </div>
    </div>
    <div id="subs-vert"></div>
  </div>
</div>
<script>
const SUBS = [
  { start: 5.92, end: 7.927, text: "We were hoping you could do something like this." },
  { start: 9.47, end: 11.534, text: "So coming out of his butt is a..." },
  { start: 11.535, end: 11.963, text: "Baby." },
  { start: 11.964, end: 12.535, text: "Baby." },
  { start: 12.536, end: 13.169, text: "Yes." },
  { start: 14.036, end: 15.465, text: "Yeah, no problem." },
  { start: 17.063, end: 18.493, text: "You should think about this." },
  { start: 18.76, end: 20.155, text: "Anyone have any better ideas?" },
  { start: 20.156, end: 21.78, text: "I like what we have." },
  { start: 21.871, end: 22.745, text: "nice try." },
  { start: 23.006, end: 24.275, text: "For sure what we have." },
  { start: 27.986, end: 29.535, text: "Just need a second outside." },
  { start: 38.138, end: 39.249, text: "You getting psyched up?" },
  { start: 39.25, end: 39.742, text: "Yeah." },
  { start: 39.743, end: 42.234, text: "Andy, nobody really expects you to go through with this." },
  { start: 42.235, end: 44.905, text: "Tunes What am I doing here?" },
  { start: 46.512, end: 48.0, text: "Why did Robert pick me?" },
  { start: 49.084, end: 51.325, text: "Confession, I don't know what I'm doing." },
  { start: 51.749, end: 53.099, text: "I mean, do you like it?" },
  { start: 54.401, end: 55.219, text: "You having fun?" },
  { start: 57.316, end: 59.593, text: "Tell you this, everybody else is having a lot of fun." },
  { start: 60.181, end: 61.8, text: "And you did that." },
  { start: 62.72, end: 64.117, text: "my ass is so big," },
  { start: 64.118, end: 65.307, text: "I mean, I can't do this every day." },
  { start: 65.308, end: 68.145, text: "But I think it's big enough to buy you some time till your next great idea." },
  { start: 68.878, end: 70.973, text: "Which, by the way, I can't wait for." },
  { start: 75.117, end: 77.164, text: "No one expects me to go through with this, right?" },
  { start: 77.165, end: 79.006, text: "Absolutely not." },
  { start: 83.418, end: 85.791, text: "Let's ink my stink!" },
  { start: 85.792, end: 87.906, text: "Andy! yeah!" },
  { start: 88.7, end: 90.147, text: "My heart belongs to music." },
  { start: 90.64, end: 93.371, text: "But my ass belongs to these people." },
  { start: 97.972, end: 99.519, text: "Do your worst." },
  { start: 102.019, end: 104.256, text: "Uh, you can keep your pants on, actually." },
  { start: 104.257, end: 106.541, text: "If you just drop 'em down a bit, that'd be great." },
  { start: 106.542, end: 108.121, text: "They're already off, my good sir." },
  { start: 108.122, end: 110.082, text: "I'd really prefer they not be down." },
  { start: 110.083, end: 111.41, text: "Well, I think down's better." },
  { start: 111.411, end: 112.944, text: "Sweating pretty heavily down there." },
  { start: 118.46, end: 120.479, text: "Do you think you could work from this?" },
  { start: 120.479, end: 122.097, text: "We made some small adjustments." },
  { start: 122.098, end: 123.017, text: "Okay, you want me to.." },
  { start: 122.718, end: 124.177, text: "Just these few adjustments." },
  { start: 125.577, end: 126.791, text: "All right, let's begin." },
  { start: 126.792, end: 127.766, text: "This is where I grin and" },
  { start: 127.767, end: 129.001, text: "Ow! Ow!" },
  { start: 129.002, end: 130.057, text: "That was just a cotton swab." },
  { start: 130.058, end: 131.844, text: "Invest in softer cotton, sir." },
  { start: 144.696, end: 147.195, text: "Obviously, you can go the ass tattoo route." },
  { start: 147.196, end: 149.77, text: "And obviously, I'm gonna like it." },
  { start: 149.921, end: 151.309, text: "Draw some blood!" },
  { start: 160.712, end: 163.267, text: "Why did I choose Andy to run the office?" },
  { start: 163.922, end: 165.827, text: "Because he's all surface," },
  { start: 166.04, end: 166.913, text: "uncomplicated." },
  { start: 166.914, end: 168.79, text: "What you see is what you get." },
  { start: 169.07, end: 171.64, text: "Could be a recipe for mediocrity, yes," },
  { start: 171.64, end: 172.743, text: "but then again," },
  { start: 172.744, end: 174.997, text: "it might just be why people fight for him." },
  { start: 177.634, end: 179.483, text: "It's a nard dog." },
  { start: 181.28, end: 183.226, text: "That's my nickety-name." },
  { start: 184.538, end: 186.356, text: "I love it. I love it." },
  { start: 186.357, end: 187.039, text: "Pull up your pants." },
  { start: 187.916, end: 190.306, text: "There's something about an underdog" },
  { start: 190.307, end: 194.204, text: "that really inspires the unexceptional." },
];




const STORAGE_KEY = 'subStatus_asianfood_yt';
let status = {};
let mode = 'vertical'; // vertical | horizontal
let playingSubIdx = null;
let pausedSubIdx = null;
let paused = false;
let playMode = 'single';
let timeoutId, player, playerVert, currentView = 'all';

// Ï∂îÍ∞Ä: ÎßàÏßÄÎßâ ÌÅ¥Î¶≠ ÏûêÎßâ index
let selectedSubIdx = null;

function loadStatus() {
  try {
    status = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};
    for (let i=0; i<SUBS.length; i++) {
      if (!status[i]) status[i]={hide:false,learned:false};
    }
  } catch { status = {}; }
}
function saveStatus() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(status));
}

function renderSubs(view='all', mode='vertical') {
  const subsDiv = (mode==='vertical') ? document.getElementById('subs-vert') : document.getElementById('subs');
  subsDiv.innerHTML = '';
  let learned = 0;
  SUBS.forEach((sub, idx) => {
    if (view==='learned' && !status[idx].learned) return;
    if (status[idx].learned) learned++;
    const row = document.createElement('div');
    row.className = 'sub-row';
    if (idx === selectedSubIdx) row.className += ' active';
    const btn = document.createElement('button');
    btn.className = 'sub-btn' + (status[idx].learned ? ' learned':'');
    btn.innerText = status[idx].hide ? 'üôà' : sub.text;
    btn.onclick = () => playPauseOrRestartSub(idx, mode);
    const hideBtn = document.createElement('button');
    hideBtn.className = 'hide-btn' + (status[idx].hide ? ' active' : '');
    hideBtn.innerText = 'üôà';
    hideBtn.title = status[idx].hide ? 'ÏûêÎßâ Î≥¥Ïù¥Í∏∞' : 'ÏûêÎßâ Ïà®Í∏∞Í∏∞';
    hideBtn.onclick = (e) => {
      status[idx].hide = !status[idx].hide;
      saveStatus(); renderSubs(currentView, mode);
      e.stopPropagation();
    };
    const checkBtn = document.createElement('button');
    checkBtn.className = 'check-btn' + (status[idx].learned ? ' checked':'');
    checkBtn.innerText = '‚úîÔ∏è';
    checkBtn.title = status[idx].learned ? 'Ïô∏Ïõ†Ïùå Ìï¥Ï†ú' : 'Ïô∏Ïõ†Ïùå';
    checkBtn.onclick = (e) => {
      status[idx].learned = !status[idx].learned;
      saveStatus(); renderSubs(currentView, mode);
      e.stopPropagation();
    };
    row.appendChild(btn);
    row.appendChild(hideBtn);
    row.appendChild(checkBtn);
    subsDiv.appendChild(row);
  });
  let percent = SUBS.length ? Math.round(learned/SUBS.length*100) : 0;
  const prog = (mode==='vertical') ? document.getElementById('progress-vert') : document.getElementById('progress');
  if (prog) prog.innerHTML =
    `ÏßÑÌñâÎ•†: <b>${percent}%</b> (${learned}/${SUBS.length})`;
}

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player');
  playerVert = new YT.Player('player-vert');
}
window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;

// ÌÅ¥Î¶≠Ìïú ÏûêÎßâ Ï§ÑÎßå ÌÖåÎëêÎ¶¨ ÎÇ®Í∏∞Í≥†, Ïû¨ÏÉùÏù¥ ÎÅùÎÇòÎèÑ Ïú†ÏßÄ
function playPauseOrRestartSub(idx, mode='vertical') {
  selectedSubIdx = idx;
  renderSubs(currentView, mode);
  const curPlayer = (mode === 'vertical') ? playerVert : player;
  if (!curPlayer || !curPlayer.seekTo) return;
  const state = curPlayer.getPlayerState();
  if (playingSubIdx !== idx) {
    playSubByMode(idx, mode);
    playingSubIdx = idx;
    pausedSubIdx = null;
    paused = false;
    return;
  }
  if (state === 1) {
    curPlayer.pauseVideo();
    if (timeoutId) clearTimeout(timeoutId);
    paused = true;
    pausedSubIdx = idx;
    playingSubIdx = null;
    return;
  }
  if (state === 2 && paused && pausedSubIdx === idx) {
    playSubByMode(idx, mode);
    playingSubIdx = idx;
    paused = false;
    pausedSubIdx = null;
    return;
  }
  playSubByMode(idx, mode);
  playingSubIdx = idx;
  paused = false;
  pausedSubIdx = null;
}
function playSubByMode(idx, mode='vertical') {
  const curPlayer = (mode === 'vertical') ? playerVert : player;
  let start = SUBS[idx].start;
  let end;
  if (playMode === 'single') {
    end = SUBS[idx].end;
  } else {
    end = (SUBS[idx+1] ? SUBS[idx+1].end : SUBS[idx].end);
  }
  curPlayer.seekTo(start, true);
  curPlayer.playVideo();
  if (timeoutId) clearTimeout(timeoutId);
  timeoutId = setTimeout(() => {
    curPlayer.pauseVideo();
    playingSubIdx = null;
    paused = false;
    pausedSubIdx = null;
    // Ïû¨ÏÉù Ï¢ÖÎ£å ÏãúÏóêÎèÑ selectedSubIdxÎäî Í∑∏ÎåÄÎ°ú, outline Ïú†ÏßÄ!
  }, (end - start) * 1000);
}
function setLayout(newMode) {
  mode = newMode;
  const cont = document.getElementById('container');
  if (mode === 'horizontal') {
    cont.classList.add('horizontal');
    document.getElementById('left-panel').style.display = '';
    document.getElementById('right-panel').style.display = '';
    document.getElementById('vertical-root').style.display = 'none';
    renderSubs(currentView, 'horizontal');
  } else {
    cont.classList.remove('horizontal');
    document.getElementById('left-panel').style.display = 'none';
    document.getElementById('right-panel').style.display = 'none';
    document.getElementById('vertical-root').style.display = '';
    renderSubs(currentView, 'vertical');
  }
}
function setHandlers() {
  // ÏÑ∏Î°úÎ™®Îìú
  document.getElementById('show-all-vert').onclick = function() {
    currentView='all';
    this.classList.add('active');
    document.getElementById('show-learned-vert').classList.remove('active');
    renderSubs('all', 'vertical');
  };
  document.getElementById('show-learned-vert').onclick = function() {
    currentView='learned';
    this.classList.add('active');
    document.getElementById('show-all-vert').classList.remove('active');
    renderSubs('learned', 'vertical');
  };
  document.getElementById('mode-btn-vert').onclick = function() {
    if (playMode === 'single') {
      playMode = 'next';
      this.textContent = 'Îã§ÏùåÏ§ÑÍπåÏßÄ Ïû¨ÏÉù';
      this.classList.add('active');
    } else {
      playMode = 'single';
      this.textContent = 'ÌïúÏ§Ñ Ïû¨ÏÉù';
      this.classList.remove('active');
    }
  };
  document.getElementById('layout-btn-vert').onclick = function() {
    setLayout('horizontal');
  };
  // Í∞ÄÎ°úÎ™®Îìú
  document.getElementById('show-all').onclick = function() {
    currentView='all';
    this.classList.add('active');
    document.getElementById('show-learned').classList.remove('active');
    renderSubs('all', 'horizontal');
  };
  document.getElementById('show-learned').onclick = function() {
    currentView='learned';
    this.classList.add('active');
    document.getElementById('show-all').classList.remove('active');
    renderSubs('learned', 'horizontal');
  };
  document.getElementById('mode-btn').onclick = function() {
    if (playMode === 'single') {
      playMode = 'next';
      this.textContent = 'Îã§ÏùåÏ§ÑÍπåÏßÄ Ïû¨ÏÉù';
      this.classList.add('active');
    } else {
      playMode = 'single';
      this.textContent = 'ÌïúÏ§Ñ Ïû¨ÏÉù';
      this.classList.remove('active');
    }
  };
  document.getElementById('layout-btn').onclick = function() {
    setLayout('vertical');
  };
}
window.onload = function() {
  loadStatus();
  setHandlers();
  setLayout('vertical'); // Í∏∞Î≥∏ ÏÑ∏Î°úÎ™®Îìú
  const tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.body.appendChild(tag);
};
</script>
</body>
</html>
